---
import MovieTarget from '../components/MovieTarget.astro';
import Layout from '../layouts/Layout.astro';
import { getMovies } from "../services/api";

const data = await getMovies("1");
console.log(data);

let cont = 0;
---

<Layout title="Movie App.">
	<main class= { "grid justify-items-center gap-5" }>
		<h1 class={ "text-4xl" }>Welcome to <span class="text-gradient">Movies Info</span></h1>
		<article class={ "flex gap-56" } > 
			<section class={ "grid justify-items-center" }>
				<h2 class={ "text-3xl text-center" }>Movies</h2>
				<div class={ "grid grid-cols-2 gap-8 mt-6 mb-4" }>
					{
						data.map((movie) => (
							cont++,
							(cont < 5) ? <MovieTarget title={ movie.title } date={ movie.release_date } poster_path={movie.	poster_path} adult={movie.adult} id={movie.id}/> : null
						))
					}
				</div>
				<button class="relative inline-flex items-center justify-center p-0.5 mb-2 me-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-purple-600 to-blue-500 group-hover:from-purple-600 group-hover:to-blue-500 hover:text-white dark:text-white focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800">
					<span class="relative px-5 py-2.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-opacity-0">
					Ver Mas
					</span>
				</button>
			</section>
			<section>
				<h2 class={ "text-3xl" }>Series</h2>
			</section>
			<section>
				<h2 class={ "text-3xl" }>Personas</h2>
			</section>
		</article>
	</main>


</Layout>

<style>
	main {
		margin: auto;
		padding: 1rem;
		width: 100%;
		color: white;
		font-size: 20px;
		line-height: 1.6;
	}

	.text-gradient {
		background-image: var(--accent-gradient);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-size: 400%;
		background-position: 0%;
		font-weight: bold;
	}
</style>
